(this.webpackJsonpmarketplace=this.webpackJsonpmarketplace||[]).push([[18],{784:function(e,t,n){"use strict";n.r(t);var c=n(4),a=n.n(c),s=n(15),r=n(26),i=n(0),l=n(695),o=n(68),d=n(684),u=n(179),b=n(693),j=n.n(b),f=n(16),m=n(2),h=function(e){var t=e.nft,n=e.currentTab,c=Object(i.useState)({isLoading:!1,isOpen:!1,nftCount:0,nftBurnCount:0}),a=Object(r.a)(c,2),s=a[0],l=a[1];console.log("state...",s.isOpen);Object(o.m)().account;var d=function(){console.log("state",s.isOpen),s.isOpen,l((function(e){return Object(f.a)(Object(f.a)({},e),{},{isOpen:!e.isOpen})}))};return Object(m.jsxs)("div",{className:"cblock",children:[Object(m.jsx)("a",{href:"/vlad-detail/".concat(t.tradeId),children:Object(m.jsx)("img",{src:"/images/nfts/".concat(t.previewImage),alt:t.name,className:"img-fluid"})}),Object(m.jsx)("div",{className:"cblock-content",children:Object(m.jsxs)("div",{className:"cblock-headwrap",children:[Object(m.jsx)("a",{href:"/vlad-detail/".concat(t.tradeId),children:Object(m.jsxs)("div",{className:"cblock-lefthead",children:[Object(m.jsx)("h6",{className:"inner-title",children:t.name}),Object(m.jsx)("p",{children:t.authorName})]})}),"owned"===n&&Object(m.jsxs)("div",{className:"owdetails-head",children:[Object(m.jsx)("i",{children:Object(m.jsx)("img",{src:"/assets/images/arrow-downsm.svg",className:"arrow-icon ".concat(s.isOpen?"active":""),alt:"arrow"})}),Object(m.jsx)("span",{className:"details-text",onClick:d,onKeyDown:d,role:"presentation",children:" Details "})]}),s.isOpen&&Object(m.jsx)("div",{className:"details-answer-new",children:t.description})]})})]})},O=function(e){var t=e.data,n=e.currentTab;return Object(m.jsx)("div",{className:"row",children:j()(t,"sortOrder").map((function(e){return Object(m.jsx)("div",{className:"col-sm-12 col-md-4",children:Object(m.jsx)(h,{nft:e,currentTab:n})},e.nftId)}))})},p=(n(43),n(77)),v=n(686),x=(n(689),function(e){var t=v;return Object(p.a)(t,d.b,e)});t.default=function(){var e=Object(o.m)().account,t=e?"".concat(e.substring(0,4),"...").concat(e.substring(e.length-4)):null,n=Object(i.useState)([]),c=Object(r.a)(n,2),b=c[0],j=c[1],f=Object(i.useState)("owned"),h=Object(r.a)(f,2),p=h[0],v=h[1],g=Object(i.useState)(!1),N=Object(r.a)(g,2),w=N[0],k=N[1],I=Object(i.useCallback)(Object(s.a)(a.a.mark((function t(){var n,c,r=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.length>0&&void 0!==r[0]?r[0]:"";try{k(!0),n=x(),c=[],d.c.forEach(function(){var t=Object(s.a)(a.a.mark((function t(s){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=[],!e){t.next=5;break}return t.next=4,n.methods.getTradesByNftIdAndUser(e,s.nftId).call();case 4:r=t.sent;case 5:Object(l.isArray)(r)&&r.length>0&&r.forEach((function(e){c.push(C(parseInt(e,10),s.nftId))}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),j(c),setTimeout((function(){k(!1)}),1e3)}catch(i){console.log("error"),console.error(i)}case 2:case"end":return t.stop()}}),t)}))),[e]),y=Object(i.useCallback)(Object(s.a)(a.a.mark((function t(){var n,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{k(!0),n=x(),c=[],d.c.forEach(function(){var t=Object(s.a)(a.a.mark((function t(s){var r,i,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=[],i=[],o=[],!e){t.next=11;break}return t.next=6,n.methods.getTradesByNftIdAndUser(e,s.nftId).call();case 6:return r=t.sent,t.next=9,n.methods.getListOpenTradesByNftId(s.nftId).call();case 9:i=t.sent,o=r.filter((function(e){return i.includes(e)}));case 11:Object(l.isArray)(o)&&o.length>0&&o.forEach((function(e){c.push(C(parseInt(e,10),s.nftId))}));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),j(c),setTimeout((function(){k(!1)}),1e3)}catch(r){console.log("error"),console.error(r)}case 1:case"end":return t.stop()}}),t)}))),[e]),T=function(e){v(e)},C=function(e,t){try{var n="/new-detail/".concat(t),c=d.c.filter((function(e){return t===e.nftId})).map((function(e){return e.previewImage})),a=d.c.filter((function(e){return t===e.nftId})).map((function(e){return e.name})),s=d.c.filter((function(e){return t===e.nftId})).map((function(e){return e.description}));return{tradeId:e,name:a[0]||"",description:s[0]||"",previewImage:c[0]||"",nftDetailLink:n,nftId:t}}catch(r){return null}};return Object(i.useEffect)((function(){"owned"===p?I():"listed"===p&&(j([]),y())}),[I,y,p]),Object(m.jsx)("section",{className:"vcollectionsec",children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-sm-12 col-md-12 mb-5",children:Object(m.jsxs)("div",{className:"nfthead",children:[Object(m.jsx)("div",{children:Object(m.jsx)("img",{src:"assets/images/Ellipse.png",alt:"eclipse",className:"img-fluid"})}),Object(m.jsxs)("div",{className:"nftname",children:[Object(m.jsx)("h5",{className:"inner-title",children:t}),Object(m.jsxs)("span",{children:[b.length," NFT(s) in Account"]})]})]})})}),Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col-sm-12 col-md-12",children:[Object(m.jsxs)("ul",{className:"bigtab nav nav-pills mb-3",id:"pills-tab",role:"tablist",children:[Object(m.jsx)("li",{className:"nav-item",role:"presentation",children:Object(m.jsx)("button",{className:"nav-link bigtablink ".concat("owned"===p?"active":""),id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#woed-home",type:"button",role:"tab","aria-controls":"pills-home","aria-selected":"true",onClick:function(){return T("owned")},children:"OWNED"})}),Object(m.jsx)("li",{className:"nav-item",children:Object(m.jsx)("button",{className:"nav-link bigtablink ".concat("listed"===p?"active":""),type:"button",onClick:function(){return T("listed")},children:"LISTED"})})]}),Object(m.jsx)("div",{className:"big-tabcontent tab-content",id:"pills-tabContent",children:Object(m.jsx)("div",{className:"tab-pane fade show active",id:"woed-home",role:"tabpanel","aria-labelledby":"pills-home-tab",children:w?Object(m.jsx)(u.a,{}):Object(m.jsx)(O,{data:b,currentTab:p})})})]})})]})})}}}]);
//# sourceMappingURL=18.49e92c9c.chunk.js.map